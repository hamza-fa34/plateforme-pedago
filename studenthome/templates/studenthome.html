{% extends 'base.html' %}
{% load static %}
{% load custom_filters %}
{% block title %}Espace Étudiant – Plateforme Pédagogique{% endblock %}

{% block content %}
<div class="dashboard-container">
  <!-- En-tête de page -->
  {% include 'partials/page_header.html' with title="Mes Recommandations" welcome_user=user.first_name|default:user.username %}

  <!-- Section Recommandations personnalisées -->
  <section class="recommendations-section" aria-labelledby="recommendations-heading">
    <header class="list-header">
      <h2 id="recommendations-heading"><i class="fas fa-magic"></i> Spécialement pour vous</h2>
    </header>
    {% if recommendations %}
      {% include 'partials/resource_table.html' with files_data=recommendations is_teacher_view=False %}
    {% else %}
      <div class="text-center empty-state">
        <i class="fas fa-seedling fa-3x text-muted mb-3" style="font-size: 3rem; margin-bottom: 1rem;"></i>
        <h3 class="text-muted">Vos recommandations apparaîtront ici.</h3>
        <p class="text-muted">Consultez quelques documents pour nous aider à comprendre ce qui vous intéresse.</p>
        <a href="{% url 'resource_list' %}" class="btn btn-primary mt-3">Explorer les ressources</a>
      </div>
    {% endif %}
  </section>
</div>

{% endblock %}

{% block body_data %}
  data-toggle-favorite-url="{% url 'toggle_favorite' %}"
  data-csrf-token="{{ csrf_token }}"
{% endblock %}

{% block extra_body %}
  <script src="{% static 'studenthome/favorites.js' %}"></script>
{% endblock %}
